<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.27">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Research ‚Äì Ruijia Chen</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-ed96de9b727972fe78a7b5d16c58bf87.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-7be11c3d72259878f12ca843fda809fa.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-FPBMKZS90Z"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-FPBMKZS90Z', { 'anonymize_ip': true});
</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed fullcontent quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Ruijia Chen</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./research.html" aria-current="page"> 
<span class="menu-text">Research</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./publications.html"> 
<span class="menu-text">Publications</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./talks.html"> 
<span class="menu-text">Invited Lectures &amp; Talks</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://github.com/Aging-Social-Epi"> 
<span class="menu-text">GitHub</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">
<div class="profile-sidebar">
  <img src="images/Profile.jpg" class="sidebar-photo" alt="Ruijia Chen">
  <h3 class="sidebar-name anchored">Ruijia Chen, ScD</h3>
  <p class="sidebar-title">Social Epidemiologist</p>
  <div class="sidebar-links">
    <a href="mailto:rchen3@bu.edu">‚úâ Email</a>
    <a href="https://scholar.google.com/citations?user=0uCgFkkAAAAJ&amp;hl=en">üéì Google Scholar</a>
    <a href="https://github.com/2018Ruijia">üíª GitHub</a>
    <a href="https://www.linkedin.com/in/ruijia-chen-45bb9a220/">üë• LinkedIn</a>
    <a href="https://x.com/RuijiaChen19">üí¨ Twitter/X</a>
  </div>
</div>

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Research</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>My research examines how social determinants across the life course contribute to disparities in age-related health outcomes by race, ethnicity, and socioeconomic status. I use advanced epidemiologic methods and large population-based datasets to investigate these questions. In addition, I study resilience factors and the biobehavioral mechanisms that underlie disparities in age-related health outcomes and the policy solutions that address social determinants of brain health at the population level.</p>
<hr>
<section id="life-course-social-determinants-of-aging-health-outcomes" class="level2">
<h2 class="anchored" data-anchor-id="life-course-social-determinants-of-aging-health-outcomes">Life course social determinants of aging health outcomes</h2>
<div class="quarto-layout-panel" data-layout="[40,60]">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 40.0%;justify-content: flex-start;">
<p><strong>Selected grant</strong></p>
<p><a href="https://reporter.nih.gov/search/DaemD3gSE069tAwqxgmDAw/project-details/10895443">NIH F99/K00 Lifecourse Stressors and Social Disparities in Cognitive Aging: The Roles of Social Networks and Sleep Disturbance</a></p>
<p><strong>Selected papers:</strong></p>
<p>Chen, R., Weuve, J., Misra, S., Cuevas, A., Kubzansky, L. D., &amp; Williams, D. R. (2022). Racial disparities in cognitive function among middle-aged and older adults: The roles of cumulative stress exposures across the life course. The Journals of Gerontology: Series A, 77(2), 357-364.</p>
<p>Chen, R., Williams, D. R., Nishimi, K., Slopen, N., Kubzansky, L. D., &amp; Weuve, J. (2022). A life course approach to understanding stress exposures and cognitive function among middle-aged and older adults. Social Science &amp; Medicine, 314, 115448.</p>
<p>Chen, R., Lee, H., Wang, J., Yang, Y., Okuzono, S. S., Nishimi, K., Kobayashi, L., Glymour, M.M. and Kubzansky, L.D. (2025). Independent and joint associations of key social exposome components with cognitive aging: Triangulating evidence through cross-national data. American Journal of Epidemiology, kwaf189.</p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 60.0%;justify-content: flex-start;">
<p>A central focus of my research is understanding how social determinants, including financial strain, educational attainment, and social connections, shape health and well-being in later life, and how these processes contribute to persistent racial disparities in aging-related outcomes. This work is grounded in foundational social epidemiologic and sociological frameworks, including the weathering hypothesis, cumulative disadvantage theory, and theories of social mobility.</p>
<p>A core set of questions in my research asks how, when, and through what mechanisms social determinants influence health outcomes. By identifying sensitive periods and cumulative processes through which social conditions become biologically embedded, my work aims to inform the timing and targeting of interventions and social policies that can improve health and reduce inequities in later life.</p>
<p>Much of the existing literature examines life-course social determinants in isolation, often focusing on single exposures such as education or income. In contrast, my research argues that social determinants do not operate independently. Rather, they are cumulative, interrelated, and mutually reinforcing, jointly shaping health trajectories over time. In my early work, conducted in collaboration with David R. Williams (Harvard), Laura Kubzansky (Harvard), Adolfo Cuevas (NYU), Jennifer Weuve (BU), and Natalie Slopen (Harvard), I examined how cumulative stress exposures contribute to health outcomes and health inequalities, including obesity and cognitive function. This work highlighted the importance of considering the joint burden of multiple stressors on health inequalities.</p>
<p>Building on this foundation, my more recent research extends these ideas by drawing on methods from environmental epidemiology to study the ‚Äúsocial exposome,‚Äù or the totality of social exposures across the life course. This approach allows for a more comprehensive characterization of social environments and their combined effects on health in older adulthood.</p>
<p>Studying social determinants of health across the life course raises substantial methodological challenges. These include addressing time-varying confounding and treatment‚Äìconfounder feedback, leveraging data from different historical periods to construct life-course cohorts, and disentangling social causation from reverse causality, particularly in the context of cognitive aging. Many of these challenges remain unresolved in life-course epidemiology. My research aims to develop and apply advance methodological strategies to address these issues, and I welcome collaborations that advance both substantive and methodological work in this area.</p>
</div>
</div>
</div>
<hr>
</section>
<section id="social-connections-and-late-life-brain-health" class="level2">
<h2 class="anchored" data-anchor-id="social-connections-and-late-life-brain-health">Social connections and late-life brain health</h2>
<div class="quarto-layout-panel" data-layout="[60,40]">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 60.0%;justify-content: flex-start;">
<p>Human lives are inherently social. The ways in which people connect to one another influence health behaviors across the life course, access to social and material resources, and ultimately shape vulnerability to disease in later life. The COVID-19 pandemic marked a critical reckoning with the role of social connection in health and it highlights how social isolation and loneliness can exacerbate health risks and widen existing inequalities.</p>
<p>My research examines the extent to which social connection, including social network, social isolation, and loneliness, contributes to brain health outcomes in later life. While often treated as a straightforward exposure‚Äìoutcome relationship, this association is conceptually and methodologically complex. A longstanding issue in the literature is the substantial heterogeneity in how social isolation is operationalized, including differences in domains, thresholds, and time frames. My work leverages computational methods and large-scale data to systematically evaluate how alternative operationalizations of social isolation shape estimated associations with cognitive function.</p>
<p>Another major methodological concern in this area is reverse causality. Declining cognitive function may lead to social withdrawal, making it difficult to disentangle whether social isolation is a cause or a consequence of cognitive decline. In collaboration with Scott Zimmerman (Boston University), Jackie Torres (UCSF), Ashwin Kowtal (UCSF), and other colleagues, I have applied Mendelian approaches using data from the UK Biobank to examine the relationships among Alzheimer‚Äôs disease genetic risk scores, midlife social connection, and later-life cognitive outcomes. This work aims to strengthen causal inference by addressing bidirectional pathways between social isolation and cognitive function.</p>
<p>The relationship between social connection and cognitive aging continues to intrigue me. Patterns of social connection vary by culture, sociodemographic characteristics, historical period, and birth cohort. Understanding how these differences shape lived experiences and their health consequences, and how methodological choices condition what we observe, remains a central focus of my research agenda.</p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 40.0%;justify-content: flex-start;">
<p><strong>Selected grant:</strong></p>
<p>NIH P01: Improving Causal Inference in Alzheimer‚Äôs Disease Prevention Research on Modifiable Risk Factors: The Triangulation of Innovative Methods to End AD (TIME-AD) Project (Co-I)</p>
<p><a href="https://www.alz.org/research/for_researchers/grants/funded-studies-details?FundedStudyID=3393">Alzheimer‚Äôs Association: Social Isolation and Dementia Risk: Cross National and Temporal Comparison</a></p>
<p><strong>Selected papers:</strong></p>
<p>(co-first) Zimmerman, S.C., Chen, R., Thoma, M., Pacca, L., Hebert, J., Riley, A., Kim, M.H., Pederson, A., Yang, Y., Buto, P. and Brenowitz, W.D. (2025). The Association of Alzheimer‚Äôs Disease Genetic Risk with Social Connectedness in Middle-And Older-Ages. American Journal of Epidemiology, kwaf122.</p>
<p>Chen, R., Tran, D., Wang, J., Ferguson, E., Thoma, M., Kotal, A., Torres, J. and Glymour, M.M. (2025). Social Isolation and Cognitive Aging: Are Operational Definitions Creating a Reproducibility Crisis? Innovation in Aging, 9(Supplement_2), igaf122-1859.</p>
<p>Lee, H. H., Chen, R., Okuzono, S. S., &amp; Kubzansky, L. D. (2025). Loneliness and cardiovascular disease incidence: two cohorts of older adults in the USA and South Korea. International Journal of Epidemiology, 54(3), dyaf050.</p>
</div>
</div>
</div>
<hr>
</section>
<section id="social-policies-interventions-and-aging-health-outcomes" class="level2">
<h2 class="anchored" data-anchor-id="social-policies-interventions-and-aging-health-outcomes">Social policies, interventions, and aging health outcomes</h2>
<div class="quarto-layout-panel" data-layout="[40,60]">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 40.0%;justify-content: flex-start;">
<p><strong>Selected grant:</strong></p>
<p><a href="https://reporter.nih.gov/search/m8x2OSVBKE6KJkeeVYUg4Q/project-details/11135997">NIH K99/R00: Bridging Social Epidemiology and Policy for ADRD Prevention: Effects of Poverty Alleviation Policies on Alzheimer‚Äôs Disease and Related Dementias Risk and Disparities</a></p>
<p><strong>Selected papers:</strong></p>
<p>Chen, R., Charpignon, M-L., Raquib, R.V., Wang, J., Meza, E., Aschmann, H.E., Devost, S., Mooney, A., Bibbins-Domingo, K., Riley, A., Kiang, M.V., Stokes, A.C., Glymour, M.M. (2023). Excess Mortality Associated with Alzheimer‚Äôs Disease and Dementia between March 2020 and February 2022 in the United States. JAMA Neurology, 80(9), 913-922.</p>
<p>Chen, R., Aschmann, H.E., Chen, Y-H., Glymour, M.M., Bibbins-Domingo, K., Stokes, A.C., Kiang, M.V. (2022). Racial and Ethnic Disparities in Estimated Excess Mortality from External Causes in the United States, March to December 2020. JAMA Internal Medicine, 182(7), 776-778.</p>
<p>Aschmann, H. E., Riley, A. R., Chen, R., Chen, Y. H., Bibbins-Domingo, K., Stokes, A. C., ‚Ä¶ &amp; Kiang, M. V. (2022). Dynamics of racial disparities in all-cause mortality during the COVID-19 pandemic. Proceedings of the National Academy of Sciences, 119(40), e2210941119.</p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 60.0%;justify-content: flex-start;">
<p>My work identifies who is most affected by disease, where health inequities are concentrated, and where policy attention and resources are most urgently needed. During the COVID-19 pandemic, as part of a multi-institutional team with Yea-Hung Chen (UCSF), Alicia Riley (UC Santa Cruz), Matthew Kiang (Stanford), Andrew Stokes (BU), Maria Glymour (BU), Marie-Laure Charpignon (Kaiser Permanente and UC Berkeley), and others, we analyzed death certificate data to examine how excess mortality disproportionately affected racial and ethnic minoritized populations.</p>
<p>Beyond documenting disparities, my research examines how existing social policies, such as pension systems, shape population health. Social policies shape access to resources, structure exposure to risks, and provide forms of protection across the life course. They play a fundamental role in producing and sustaining health inequalities.</p>
<p>While rigorous evidence is necessary, it is not sufficient. The broader aim of my work is to contribute policy-relevant knowledge that can inform interventions and social policies that meaningfully improve population health and reduce inequalities. Supported by a K99/R00 grant, my current research bridges social epidemiology and policy by examining how social policies in the United States and across countries shape dementia-related outcomes over the life course.</p>
<p>The social epidemiologic research that we are doing is not only to shed light on how social factors influence health, but more importantly to investigate how these findings can be translated into policy and programs. I view ‚Äútranslation‚Äù as operating not only at the state and national policy levels, but also at the community level, where policies and programs are implemented and experienced. Partnerships with community organizations offer an important pathway for translating these findings into programs that are responsive to local contexts and lived experience.</p>
</div>
</div>
</div>
<hr>
</section>
<section id="advancing-methods-in-social-epidemiology" class="level2">
<h2 class="anchored" data-anchor-id="advancing-methods-in-social-epidemiology">Advancing methods in social epidemiology</h2>
<div class="quarto-layout-panel" data-layout="[60,40]">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 60.0%;justify-content: flex-start;">
<p>With the increasing availability of large-scale data, the development of new analytic approaches, and recent advances in artificial intelligence, we are in a moment of unusual opportunity to engage more deeply with the nuances in which social factors shape health outcomes.</p>
<p>At the same time, the rapid expansion of data and methods raises important concerns about reproducibility of knowledge and the rigorous handling of bias, such as confounding, selection processes, and reverse causality. In collaboration with Maria Glymour (Boston University), Sarah Ackley (Brown University), Jingxuan Wang (Harvard), and colleagues, my work applies causal inference methods to address some of the key methodological challenges in social epidemiology research.</p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 40.0%;justify-content: flex-start;">
<p><strong>Selected papers:</strong></p>
<p>Chen, R., Calmasini, C., Swinnerton, K., Wang, J., Haneuse, S., Ackley, S.F., Hirst, A.K., Hayes-Larson, E., George, K.M., Peterson, R. and Soh, Y. (2023). Pragmatic approaches to handling practice effects in longitudinal cognitive aging research. Alzheimer‚Äôs &amp; Dementia, 19(9), 4028-4036.</p>
<p>Ackley, S.F., Andrews, R.M., Seaman, C., Flanders, M., Chen, R., Wang, J., Lopes, G., Sims, K.D., Buto, P., Ferguson, E. and Allen, I.E. (2025). Trends in the distribution of P values in epidemiology journals: a statistical, P-curve, and simulation study. American Journal of Epidemiology, 194(12), 3630-3639.</p>
</div>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "Óßã";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p>¬© 2026 Ruijia Chen. Powered by Quarto.</p>
</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>